# Data Model: How to Earn Money Using AI Book

## Entities

### Book Content
- Represents the core information within the AI-generated book.
- **Key Attributes:**
  - `id`: Unique identifier for a piece of content (e.g., chapter, section, paragraph).
  - `text`: The actual markdown or plain text content.
  - `metadata`: Structured data associated with the content (e.g., chapter title, author, topic, source URL, creation date, version).
  - `embedding`: Vector representation of the content for RAG retrieval (generated by embedding model).

### Reader Query
- Represents a user's question or selected text for the RAG chatbot.
- **Key Attributes:**
  - `id`: Unique identifier for the query session.
  - `text`: The raw text of the user's question or selected context.
  - `timestamp`: Time when the query was made.
  - `user_session_id`: Identifier for the ongoing chatbot session (for persistence).

### Chatbot Response
- Represents the AI-generated answer provided by the RAG chatbot.
- **Key Attributes:**
  - `id`: Unique identifier for the response.
  - `text`: The AI-generated answer.
  - `source_content_ids`: List of `Book Content` IDs that were used to formulate the answer (for traceability).
  - `timestamp`: Time when the response was generated.
  - `query_id`: The `Reader Query` ID this response corresponds to.

### Book Outline/Topics
- Represents the structured plan used to guide AI content generation.
- **Key Attributes:**
  - `id`: Unique identifier for an outline item.
  - `title`: Title of the chapter, section, or topic.
  - `description`: Brief description of the content to be generated for this item.
  - `order`: Numerical order within the book structure.
  - `parent_id`: Reference to a parent outline item (for hierarchical structure).

## Relationships

- `Book Content` can be associated with `Book Outline/Topics` (a chapter is a type of outline topic, and its content is generated based on it).
- `Reader Query` leads to `Chatbot Response`.
- `Chatbot Response` refers to multiple `Book Content` items as its sources.
